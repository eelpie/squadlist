#parse('includes/head.vm')
#navTabs('Squad availability')

<div class="row-fluid">
		
	#squadSideNav('availability')			
	
	<div class="span10">
		<h3>$squad.name availability</h3>
		<hr/>
				
		#if($members.isEmpty()) 
			<p>No members are currently assigned to this squad.</p>						
		#else
			
			#if($outings.isEmpty()) 
				<p>No matching outings</p>
			#else

			<div class="container-fluid">
					
				<div class="row">
					<div class="span2">
					</div>
					#foreach($outing in $outings) 
						<div class="span1">
							#parse('includes/outing-small.vm')
						</div>
					#end
				</div>
				
				#foreach($member in $members)
					<div class="row">				
						<div class="span2">#parse('includes/member.vm')</div>				
						#foreach($outing in $outings)
							#set($key = "${outing.id}-$member.id")
							#set($status = '')					
							#set($status = $availability.get($key))
							<div class="span1">
								#if($status == '') 
									TBA
								#else
									<span class="label label-info">
										$status
									</span>
								#end
							</div>
						#end
					</div>
				#end
			#end
			</div>
			
		#end
		<hr>

	</div>
</div>
</div>
